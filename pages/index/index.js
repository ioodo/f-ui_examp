// index.js
// 获取应用实例
const app = getApp()
var fstrings = require('../../components/common/strings.js');
// import { Base64} from 'js-base64'
// console.log(Base64)
Page({
  pageLayout: null,
  data: {
    motto: 'Hello World',
    userInfo: {},
    hasUserInfo: false,
    canIUse: wx.canIUse('button.open-type.getUserInfo'),
    colors: [],
    searchIconHeight: 0,
    buttonAddStoryHeight: 0,
    pageLayout: {
      navbar: {
        class: '',
        title: '标题',
        subTitle: '副标题',
        back: false
      },
      backgroundImage: 'data:image/jpg;base64,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'
    },
    testSlots: [
      '0', '1', '2', '3', '4', '5'
    ],
    datetimePickerVisible: false,
    pickerValue: [ 2 ],
    pickerColumns: [
      [ '0', '1', '2', '3', '4', '5' ],
      [ '6', '1', '2', '3', '4', '5' ]
    ],
  },
  // 事件处理函数
  bindViewTap() {
    wx.navigateTo({
      url: '../logs/logs'
    })
  },
  onReady() {
    this.pageLayout = this.selectComponent("#pageLayout");
  },
  onLoad() {
    this.calMyStoryHeight()
    const colors = this.generateColors(10);
    this.setData({
      colors: colors,
      searchIconHeight: app.globalData[fstrings.globalDataName].capsule.height
    });
    console.log(app.globalData)
    if (app.globalData.userInfo) {
      this.setData({
        userInfo: app.globalData.userInfo,
        hasUserInfo: true
      })
    } else if (this.data.canIUse) {
      // 由于 getUserInfo 是网络请求，可能会在 Page.onLoad 之后才返回
      // 所以此处加入 callback 以防止这种情况
      app.userInfoReadyCallback = res => {
        this.setData({
          userInfo: res.userInfo,
          hasUserInfo: true
        })
      }
    } else {
      // 在没有 open-type=getUserInfo 版本的兼容处理
      wx.getUserInfo({
        success: res => {
          app.globalData.userInfo = res.userInfo
          this.setData({
            userInfo: res.userInfo,
            hasUserInfo: true
          })
        }
      })
    }
  },
  getUserInfo(e) {
    console.log(e)
    app.globalData.userInfo = e.detail.userInfo
    this.setData({
      userInfo: e.detail.userInfo,
      hasUserInfo: true
    })
  },
  onBack () {
  },
  randomColor: function () {
    return `rgba(${Math.floor(Math.random() * 256)},${Math.floor(Math.random() * 256)},${Math.floor(Math.random() * 256)},1)`;
  },
  generateColors: function (length) {
    return new Array(length).fill(null).map(() => this.randomColor());
  },
  refreshData: function () {
    this.setData({
      refreshing: true,
    })
    setTimeout(() => {
      const colors = this.generateColors(10);
      this.setData({
        colors,
        refreshing: false,
        nomore: false,
      });
    }, 2000);
  },
  loadmoreData: function () {
    this.setData({
      refreshing: true,
    })
    setTimeout(() => {
      if (this.data.colors.length > 10) {
        this.setData({
          nomore: true,
        })
      } else {
        const colors = this.generateColors(8);
        this.setData({
          colors: [...this.data.colors, ...colors],
        });
      }
      this.setData({
        refreshing: false,
      })
    }, 2000);
  },
  calMyStoryHeight () {
    var query = wx.createSelectorQuery().in(this);
    query.select('.my-story-subtitle-text').boundingClientRect()
    query.exec((res) => {
      this.setData({
        buttonAddStoryHeight: res[0].height
      })
    });
  },
  handleSearch () {
  },
  handleAddStory () {
    console.log('------ handle add story')
  },
  onPullRefresh (e) {
    const { detail } = e
    setTimeout(() => {
      this.pageLayout.stopRefresh(false)
    }, 2000);
  },
  onTap (e) {
    console.log('---- button tap')
    console.log(e)
  },
  showDatetimePicker () {
    this.setData({
      datetimePickerVisible: true
    })
  },
  hidePopup () {
    this.setData({
      datetimePickerVisible: false
    })
  },
  handlePickStart (e) {
    console.log(e)
    var query = wx.createSelectorQuery();
    query.selectAll('.picker-col > .col-view')
      .boundingClientRect();
    // query.selectViewport().scrollOffset()
    query.exec((res) => {
      console.log(res)
    });
  },
  handlepickend(e) {
    console.log(e)
  },
  bindchange(e) {
    console.log(e)
  },
  handlescroll2 (e) {
    console.log('--  test bind scroll');
    console.log(e)
  },
  handlePickerChange (v) {
    console.log(v.detail)
  }
})
